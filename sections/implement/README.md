# Implementation(実装)
---
## Stage(ステージ)
<div align="center"><img src="https://raw.githubusercontent.com/kurab/grimoireduit/images/06.png"></div>

開発の状態、進捗に応じて確認する環境を切り替える。最終的には本番環境へのリリースとなる。
上位サーバーへのリソースの配置を、**Deploy**(デプロイ) などと言う。

ステージの例）
|環境|説明|
|:-:|:-|
|Live, Production(ライブ, プロダクション)環境|本番環境。|
|Pool(プール)環境|リリース直前の Production 環境と全く同じ構成の環境。Staging(ステージング)環境とも言う。最終的なテストを行う|
|Backstage(バックステージ)環境|今回リリースする対象のファイル等のみがアップされたテスト環境。ない場合もある。|
|Current(カレント)環境|各チームが開発中のものが集められたテスト環境。git を使う場合、あまり必要がない。|
|Unit(ユニット)環境|個人の開発環境|

## Version Control(バージョン管理)
複数人のチームで開発する場合、誰がいつ何を変更したのかの履歴を管理する必要がある。リリースしたらバグがあったので、急遽前のバージョンに戻したいなどの状況も考えられる。その際に利用するのが**バージョン管理システム**で、**CSV**(シーエスブイ), **SVN**(エスブイエヌ), **Git**(ギット)などがある。現在主流は、Git だが、SVN もまだまだ残っている。

Git は自分でシステムを用意することも出来るが、便利なツールを統合したサービスを利用するのが一般的で、代表的なものとして、**github**(ギットハブ), **bitbucket**(ビットバケット), **gitlab**(ギットラブ・ギットラボ)などがある。

github のマスコットキャラクターは、Octocat(オクトキャット)と呼ばれており、可愛い。

<div align="center"><img src="https://raw.githubusercontent.com/kurab/grimoireduit/images/07.png"></div>

アプリケーションごとに **repository**(リポジトリー)を作成し、defalut になっている master ブランチや develop ブランチなどから、開発用の **branch**(ブランチ)を作成(ブランチを切る)して、開発を行う。基本的には、ローカル環境に**checkout**(チェックアウト)/**clone**(クローン) して、ローカルでの開発を進め、**commit**(コミット) したり **push**(プッシュ) したりする。サーバー上のものを **remote**(リモート)、手元のものを **Local**(ローカル)と言う。

リリースする状態になった場合、master/develop ブランチに **merge**(マージ) する。merge する際に直接 merge する場合と、承認を経てから merge する **Pull request**(プルリクエスト・プルリク・RP )をする場合がある。git を使った開発フローとして、**git-flow, github-flow** などがあり、どのような方法を取るかは、規模や状況によって変わってくる。

同じ箇所を修正してバッティングすることを、**Conflict**(コンフリクト)と言う。コンフリクトしたら泣きながら修正する。

## Coding Standard(コーディング規約)
複数人で開発をする場合、体裁が整っていないとソースコードは読みづらいので、書き方を統一します。コーディングのガイドラインのことを **Coding Standard**(コーディング規約)と呼び、一般的なものもあれば、独自で決めたものもあり、様々です。例えば PHP であれば、**PSR-2**(ピースエアールツー)などが有名です。

基本的に規約に則った書き方を心がけるべきですが、個人の心がけに依存すると定着しないことが多いため、システムで守らせるようにするのがスマートです。例えば、PHP であれば、**php-cs-fixer**(ピーエイチピーシーエスフィクサー)、Ruby であれば **rubocop**(ルボコップ・ロボコップ)などを利用するのが良いです。コーディング規約に限らず、ソースコードをツールで解析することを、**Static Code Analysis**(静的コード解析)と呼びます。

コーディング規約の範疇なのか範疇外なのか微妙なところですが、コードを読みやすくするために日本で広く知られており、「これくらい言わなくてもやって当然」と思われているのが、**The Art of readable code**(リーダブルコード)という書籍です。大事なことは、どのようにコードを書くかについて共通認識を持つことです。それぞれが自己流にカスタマイズしては意味がありません。

## Object-oriented(オブジェクト指向)
**Object-oriented Programming(オブジェクト指向, OOP)** とは、オブジェクト同士の相互作用として、システムの振る舞いを捉える考え方のことで、Encapsulation(カプセル化), Composition, inherit and delegation(継承)、Polymorphism (ポリモーフィズム)といった特徴を持ちます。ナンノコッチャ！まぁ、みんなで開発する時に、便利な考え方だと思っておけば良いです。

オブジェクト指向のベスト・プラクティスをまとめたものを**Design Pattern**(デザインパターン)と呼び、様々なパターンがあります。実際にデザインパターンを意識してコーディングできる人は多くはないです。デザインパターンの中で最も有名なのが、**MVC**(エムブイシー) パターンです。**Model**(モデル)-**View**(ビュー)-**Controller**(コントローラー)と大きく3つの役割に分けて実装する方法で、多くの Framework (フレームワーク)に取り入れられています。
MVCフレームワークは、例えば…
- PHP: **ZendFramework**(ゼンド), **CakePHP**(ケイク), **Symfony**(シンフォニー), **Laravel**(ララベル)…
- Ruby: **Ruby on Rails**(RoR, レイルズ), **Sinatra**(シナトラ)
- Java: **Struts**(ストラッツ)
などなど。これらの View には、**Template Engine**(テンプレートエンジン)が採用されていることがほとんどで、有名なところでは、**Smarty**(スマーティ), **Twig**(ツイグ、トゥイグ), **Blade**(ブレード)などがあります。

近年の開発は、フレームワークを利用することが一般的であり、オブジェクト指向を理解したつもりになってしまう人が多く、経験を積んでもスキルが伸びない原因の1つになっています。

理由は様々ですが、複雑になりすぎたコードや汚いコードのことを **Spaghetti Code**(スパゲッティコード) と呼んだり、クソース, ウンコードなどと呼んだりします。あえて言おう、ウンコであると！
